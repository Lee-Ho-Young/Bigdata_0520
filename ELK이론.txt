* 텍스트 분석
	- 도큐먼트 색인 전에 텍스트 타입을 가진 모든 필드는 분석이 필요
	- 이러한 분석 과정을 거쳐야 검색 시점에 특정 검색어로 도큐먼트를 검색
	- 분석기는 필드 단위로 구성
		- 같은 도큐먼트라도 텍스트 타입을 가진 2개의 필드가 있는 경우, 각기 다른 분석기 사용 가능
	- 분석기 구성요소
		- 문자 필터(Character filters) : 0개 이상
			- 입력 필드의 문자를 추가/삭제/변경
			- 문자 매핑 필터를 Mapping 필터라고 부르기도 한다.
		- 토크나이저(Tokenizer) : 정확히 1개
		- 토큰 필터(Token filters): 0개 이상
			- 소문자 토큰 필터 (lowercaser token filter)
			- 불용어 토큰 필터 (stop token filter)
		
* 쿼리 종류 : Range 쿼리 / Exists 쿼리 / Term 쿼리 / Terms 쿼리

* 용어 레벨 쿼리 [Term Level Query] : 유사도 기반의 스코어가 필요하지 않으며, 결과에 어떤 항목이 포함돼 있는지 결과를 나타냄
	- 키워드 타입 필드는 분석되지 않고, 해당 필드값은 곧바로 역색인에 용어로 저장
	- 용어 레벨 쿼리는 분석기를 사용해 용어를 분해하는 과정 없이 검색 용어를 곧바로 전달
	
* Range 쿼리 : 자연적 질서를 가진 데이터 타입 필드에 적용 [정수, 날짜]
	- 기본적으로 Range쿼리는 일치하는 각 도큐먼트에 스코어 1을 할당
	- Range 쿼리는 boost 매개변수를 제공해 결합한 쿼리와 비교해 스코어를 높일 수 있다.
	- Range 쿼리는 필터 컨텍스트(Filter Context)에서 실행된다.
	- 필터 컨텍스트에서는 스코어를 계산하지 않기 때문에 일치하는 도큐먼트는 기본적으로 1로 설정된다.
	
* Exists 쿼리 : 특정 필드에 널값과 공백이 아닌 레코드만 가져오고 싶을 때 사용
	- 해당 쿼리는 필터 컨텍스트에서 실행 [스코어가 중요하지 않은 Range 쿼리와 유사]
	- 스코어 과정을 건너뛰므로 쿼리 속도는 빨라지고, 일래스틱서치는 필터 결과를 캐시할 수 있다.
	
* Term 쿼리
	
* 전문 텍스트 검색 : 구조화되지 않은 텍스트 필드에 수행 가능
	- Match 쿼리
	- Match Phrase 쿼리
	- Multi Match 쿼리

*키워드 필드에 Match 쿼리를 사용한다는 의미는 기본 필드가 키워드 필드라서 검색어가 쿼리 시점에 분석되지 않는다는 것을 알 수 있다.

* match_phrase 쿼리는 일련의 단어를 일치시키는데 사용

* 쿼리 종류
	- Bool 쿼리
	- Dis max 쿼리
	- Function Score 쿼리
	- Boosting 쿼리
	- Indices 쿼리
	
* 집계 종류
	- Bucket 집계
		- SELECT COLUMN1, COUNT(*) FROM TABLE1 GROUP BY COLUMN1;
		- Bucket 집계는 집계 쿼리에서 최상단 혹은 가장 바깥 레벨에 위치할 수 있다.
		- Bucket 집계는 다름 Bucket 집계 내부에 중첩해 사용할 수 있다.
	- Metric 집계
		- SELECT avg(score) FROM results;
		- 주어진 컨텍스트에서 숫자 필드의 집계값을 계산
		- Metric 집계는 Bucket 집계 내부에 중첩해 사용할 수 있다.
		- Metric 집계는 내부에 다른 집계 타입과는 중첩해 사용할 수 없다. 
		-> 합계, 평균, 최소, 최대 집계
		-> 통계 및 확장 통계 집계
		-> 카디널리티 집계 : 특정 필드의 고유한 값의 개수
	- Matrix 집계
		-Matrix 집계는 Bucket 집계에 중첩해 사용할 수 있지만, Bucket 집계는 Matrix 내부에 중첩될 수 없다.
	- Pipeline 집계
		- 다른 타입의 집계 결과를 다시 집계할 수 있는 상위 레벨의 집계
	
* Bucket 집계 
	- 버킷팅은 공통 기준에 따라 도큐먼트를 그룹화하는 것을 의미한다.
	- 각 버킷은 도큐먼트의 갯수에 따라 내림차순으로 정렬된다.
		- 문자열 데이터 버킷팅
			ex) 부서당 네트워크 트래픽 데이터 세분화
			ex) 사용자당 네트워크 트래픽 데이터 세분화
			- Terms 집계
		- 숫자 데이터 버킷팅
			- Histogram 집계 : 데이터를 숫자 필드 기반의 여러 버킷으로 분활할 수 있다.
			- Range 집계
		- 필터 데이터 집계
		- 중첩 집계
			- Bucket 집계 안에서 Metric 집계를 중첩
			- 특정 날짜에 개별 사용자 또는 특정 사용자가 소비한 총 대역폭을 구하시오.
		- 맞춤형 조건 버킷팅
			- Filter 집계 : 임의의 필터를 사용해 단일 버킷을 생성
			- Filters 집계 : 고유 필터를 갖는 여러 가지 버킷을 생성
		- 날짜 또는 시간 데이터 버킷팅
		- 지리 공간 데이터 버킷팅
	
	
	
	
	
	
	
	
	
	
	